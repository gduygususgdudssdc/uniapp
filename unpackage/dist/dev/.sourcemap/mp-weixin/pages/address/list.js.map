{"version":3,"file":"list.js","sources":["pages/address/list.vue","../../hbuildx/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvYWRkcmVzcy9saXN0LnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"address-list\">\r\n\t\t\t<view class=\"address-item\" v-for=\"item in addressList\" :key=\"item.id\" @click=\"selectAddress(item)\">\r\n\t\t\t\t<view class=\"address-content\">\r\n\t\t\t\t\t<view class=\"address-header\">\r\n\t\t\t\t\t\t<text class=\"name\">{{ item.name }}</text>\r\n\t\t\t\t\t\t<text class=\"phone\">{{ item.phone }}</text>\r\n\t\t\t\t\t\t<text class=\"default-tag\" v-if=\"item.isDefault\">默认</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<text class=\"address-text\">{{ item.province }}{{ item.city }}{{ item.district }}{{ item.detail }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"address-actions\">\r\n\t\t\t\t\t<view class=\"action-btn\" @click.stop=\"editAddress(item.id)\">\r\n\t\t\t\t\t\t<uni-icons type=\"compose\" size=\"18\" color=\"#007AFF\"></uni-icons>\r\n\t\t\t\t\t\t<text>编辑</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"action-btn\" @click.stop=\"deleteAddress(item.id)\">\r\n\t\t\t\t\t\t<uni-icons type=\"trash\" size=\"18\" color=\"#FF5722\"></uni-icons>\r\n\t\t\t\t\t\t<text>删除</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 空状态 -->\r\n\t\t<view v-if=\"addressList.length === 0\" class=\"empty\">\r\n\t\t\t<text>暂无地址</text>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 添加按钮 -->\r\n\t\t<view class=\"add-btn-wrapper\">\r\n\t\t\t<button class=\"add-btn\" @click=\"addAddress\">+ 添加新地址</button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport { getAddressList } from '@/utils/mockData.js'\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\taddressList: []\r\n\t\t}\r\n\t},\r\n\tonLoad() {\r\n\t\tthis.loadAddresses()\r\n\t},\r\n\tmethods: {\r\n\t\tloadAddresses() {\r\n\t\t\tthis.addressList = getAddressList()\r\n\t\t},\r\n\t\tselectAddress(item) {\r\n\t\t\t// 如果是从订单页面跳转过来的，返回选中的地址\r\n\t\t\tconst pages = getCurrentPages()\r\n\t\t\tconst prevPage = pages[pages.length - 2]\r\n\t\t\tif (prevPage && prevPage.route === 'pages/order/detail') {\r\n\t\t\t\tuni.navigateBack()\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t},\r\n\t\taddAddress() {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '/pages/address/edit'\r\n\t\t\t})\r\n\t\t},\r\n\t\teditAddress(id) {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: `/pages/address/edit?id=${id}`\r\n\t\t\t})\r\n\t\t},\r\n\t\tdeleteAddress(id) {\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '提示',\r\n\t\t\t\tcontent: '确定要删除此地址吗？',\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\tthis.addressList = this.addressList.filter(item => item.id !== id)\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '删除成功',\r\n\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n\tmin-height: 100vh;\r\n\tbackground-color: #F5F5F5;\r\n\tpadding-bottom: 120rpx;\r\n}\r\n\r\n.address-list {\r\n\tpadding: 20rpx;\r\n}\r\n\r\n.address-item {\r\n\tbackground-color: #fff;\r\n\tborder-radius: 10rpx;\r\n\tpadding: 30rpx;\r\n\tmargin-bottom: 20rpx;\r\n}\r\n\r\n.address-content {\r\n\tmargin-bottom: 20rpx;\r\n}\r\n\r\n.address-header {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tmargin-bottom: 15rpx;\r\n}\r\n\r\n.name {\r\n\tfont-size: 30rpx;\r\n\tcolor: #333;\r\n\tfont-weight: bold;\r\n\tmargin-right: 20rpx;\r\n}\r\n\r\n.phone {\r\n\tfont-size: 28rpx;\r\n\tcolor: #666;\r\n\tmargin-right: 20rpx;\r\n}\r\n\r\n.default-tag {\r\n\tpadding: 5rpx 15rpx;\r\n\tbackground-color: #FF5722;\r\n\tcolor: #fff;\r\n\tborder-radius: 5rpx;\r\n\tfont-size: 20rpx;\r\n}\r\n\r\n.address-text {\r\n\tfont-size: 26rpx;\r\n\tcolor: #666;\r\n\tline-height: 1.6;\r\n}\r\n\r\n.address-actions {\r\n\tdisplay: flex;\r\n\tjustify-content: flex-end;\r\n\tgap: 40rpx;\r\n\tpadding-top: 20rpx;\r\n\tborder-top: 1rpx solid #eee;\r\n}\r\n\r\n.action-btn {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tgap: 10rpx;\r\n\tfont-size: 26rpx;\r\n\tcolor: #666;\r\n}\r\n\r\n.empty {\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tpadding: 100rpx 0;\r\n\tcolor: #999;\r\n}\r\n\r\n.add-btn-wrapper {\r\n\tposition: fixed;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tpadding: 20rpx;\r\n\tbackground-color: #fff;\r\n\tborder-top: 1rpx solid #eee;\r\n}\r\n\r\n.add-btn {\r\n\twidth: 100%;\r\n\theight: 88rpx;\r\n\tbackground-color: #007AFF;\r\n\tcolor: #fff;\r\n\tborder-radius: 50rpx;\r\n\tfont-size: 32rpx;\r\n\tborder: none;\r\n}\r\n</style>\r\n\r\n\r\n\r\n\r\n\r\n","import MiniProgramPage from 'G:/小程序xycy页面/SkyMark/pages/address/list.vue'\nwx.createPage(MiniProgramPage)"],"names":["getAddressList","uni"],"mappings":";;;AAwCA,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,aAAa,CAAC;AAAA,IACf;AAAA,EACA;AAAA,EACD,SAAS;AACR,SAAK,cAAc;AAAA,EACnB;AAAA,EACD,SAAS;AAAA,IACR,gBAAgB;AACf,WAAK,cAAcA,8BAAe;AAAA,IAClC;AAAA,IACD,cAAc,MAAM;AAEnB,YAAM,QAAQ,gBAAgB;AAC9B,YAAM,WAAW,MAAM,MAAM,SAAS,CAAC;AACvC,UAAI,YAAY,SAAS,UAAU,sBAAsB;AACxDC,sBAAAA,MAAI,aAAa;AACjB;AAAA,MACD;AAAA,IACA;AAAA,IACD,aAAa;AACZA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,OACL;AAAA,IACD;AAAA,IACD,YAAY,IAAI;AACfA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,0BAA0B,EAAE;AAAA,OACjC;AAAA,IACD;AAAA,IACD,cAAc,IAAI;AACjBA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,CAAC,QAAQ;AACjB,cAAI,IAAI,SAAS;AAChB,iBAAK,cAAc,KAAK,YAAY,OAAO,UAAQ,KAAK,OAAO,EAAE;AACjEA,0BAAAA,MAAI,UAAU;AAAA,cACb,OAAO;AAAA,cACP,MAAM;AAAA,aACN;AAAA,UACF;AAAA,QACD;AAAA,OACA;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvFA,GAAG,WAAW,eAAe;"}