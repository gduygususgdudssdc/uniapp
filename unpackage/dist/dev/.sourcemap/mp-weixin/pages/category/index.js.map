{"version":3,"file":"index.js","sources":["pages/category/index.vue","../../hbuildx/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY2F0ZWdvcnkvaW5kZXgudnVl"],"sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<view class=\"category-wrapper\">\n\t\t\t<!-- Â∑¶‰æßÂàÜÁ±ªÂàóË°® -->\n\t\t\t<scroll-view class=\"category-sidebar\" scroll-y>\n\t\t\t\t<view class=\"category-item\" :class=\"{ active: currentCategory === item.id }\" \n\t\t\t\t\tv-for=\"item in categories\" :key=\"item.id\" @click=\"selectCategory(item.id)\">\n\t\t\t\t\t<text class=\"category-icon\">{{ item.icon }}</text>\n\t\t\t\t\t<text class=\"category-name\">{{ item.name }}</text>\n\t\t\t\t</view>\n\t\t\t</scroll-view>\n\t\t\t\n\t\t\t<!-- Âè≥‰æßÂ≠êÂàÜÁ±ª -->\n\t\t\t<scroll-view class=\"category-content\" scroll-y>\n\t\t\t\t<view class=\"subcategory-list\" v-if=\"currentSubcategories.length > 0\">\n\t\t\t\t\t<view class=\"subcategory-item\" v-for=\"item in currentSubcategories\" \n\t\t\t\t\t\t:key=\"item.id\" @click=\"goToGoodsList(item.id)\">\n\t\t\t\t\t\t<view class=\"subcategory-icon\">{{ getSubcategoryIcon(item.name) }}</view>\n\t\t\t\t\t\t<text class=\"subcategory-name\">{{ item.name }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view v-else class=\"empty\">\n\t\t\t\t\t<text>ÊöÇÊó†Â≠êÂàÜÁ±ª</text>\n\t\t\t\t</view>\n\t\t\t</scroll-view>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport { onLoad } from '@dcloudio/uni-app'\nimport { categoryApi } from '@/utils/apiService.js'\n\nconst categories = ref([])\nconst currentCategory = ref(null)\nconst subcategories = ref([])\n\n// ËÆ°ÁÆóÂ±ûÊÄßÔºöÊ†πÊçÆÂΩìÂâçÈÄâ‰∏≠ÁöÑÂàÜÁ±ªÔºåËá™Âä®Ëé∑ÂèñÂ≠êÂàÜÁ±ªÂàóË°®\nconst currentSubcategories = computed(() => {\n\treturn subcategories.value\n})\n\nasync function loadCategories() {\n\ttry {\n\t\tconst categoryList = await categoryApi.getCategoryList()\n\t\tcategories.value = categoryList || []\n\t\tif (categories.value.length > 0) {\n\t\t\tcurrentCategory.value = categories.value[0].id\n\t\t\tawait loadSubcategories(currentCategory.value)\n\t\t}\n\t} catch (error) {\n\t\tconsole.error('Âä†ËΩΩÂàÜÁ±ªÂ§±Ë¥•:', error)\n\t\tuni.showToast({ title: 'Âä†ËΩΩÂàÜÁ±ªÂ§±Ë¥•', icon: 'none' })\n\t}\n}\n\nasync function loadSubcategories(parentId) {\n\ttry {\n\t\tconst subcategoryList = await categoryApi.getCategoryList(parentId)\n\t\tsubcategories.value = subcategoryList || []\n\t} catch (error) {\n\t\tconsole.error('Âä†ËΩΩÂ≠êÂàÜÁ±ªÂ§±Ë¥•:', error)\n\t\tsubcategories.value = []\n\t}\n}\n\nfunction selectCategory(id) {\n\tcurrentCategory.value = id\n\tloadSubcategories(id)\n}\n\nfunction goToGoodsList(categoryId) {\n\tuni.navigateTo({\n\t\turl: `/pages/goods/list?categoryId=${categoryId}`\n\t})\n}\n\nfunction getSubcategoryIcon(name) {\n\t// ÁÆÄÂçïÊò†Â∞ÑÔºåÂÆûÈôÖÂèØ‰ª•Ê†πÊçÆÂêçÁß∞ËøîÂõû‰∏çÂêåÂõæÊ†á\n\treturn 'üì¶'\n}\n\nonLoad(() => {\n\tloadCategories()\n})\n</script>\n\n<style scoped>\n.container {\n\theight: 100vh;\n\tbackground-color: transparent;\n}\n\n.category-wrapper {\n\tdisplay: flex;\n\theight: 100%;\n}\n\n.category-sidebar {\n\twidth: 200rpx;\n\tbackground-color: #fff;\n\tborder-right: 1rpx solid #eee;\n}\n\n.category-item {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tpadding: 40rpx 20rpx;\n\tborder-bottom: 1rpx solid #F5F5F5;\n}\n\n.category-item.active {\n\tbackground-color: #F5F5F5;\n\tborder-left: 4rpx solid #007AFF;\n}\n\n.category-icon {\n\tfont-size: 50rpx;\n\tmargin-bottom: 10rpx;\n}\n\n.category-name {\n\tfont-size: 24rpx;\n\tcolor: #333;\n}\n\n.category-content {\n\tflex: 1;\n\tpadding: 20rpx;\n}\n\n.subcategory-list {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tgap: 20rpx;\n}\n\n.subcategory-item {\n\twidth: calc(33.33% - 14rpx);\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tbackground-color: #fff;\n\tborder-radius: 10rpx;\n\tpadding: 30rpx 20rpx;\n}\n\n.subcategory-icon {\n\tfont-size: 60rpx;\n\tmargin-bottom: 15rpx;\n}\n\n.subcategory-name {\n\tfont-size: 24rpx;\n\tcolor: #333;\n}\n\n.empty {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tpadding: 100rpx 0;\n\tcolor: #999;\n}\n</style>\n\n\n\n\n\n","import MiniProgramPage from 'G:/Â∞èÁ®ãÂ∫èxycyÈ°µÈù¢/SkyMark/pages/category/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","computed","categoryApi","uni","onLoad"],"mappings":";;;;;;AAkCA,UAAM,aAAaA,cAAG,IAAC,EAAE;AACzB,UAAM,kBAAkBA,cAAG,IAAC,IAAI;AAChC,UAAM,gBAAgBA,cAAG,IAAC,EAAE;AAG5B,UAAM,uBAAuBC,cAAQ,SAAC,MAAM;AAC3C,aAAO,cAAc;AAAA,IACtB,CAAC;AAED,mBAAe,iBAAiB;AAC/B,UAAI;AACH,cAAM,eAAe,MAAMC,iBAAW,YAAC,gBAAiB;AACxD,mBAAW,QAAQ,gBAAgB,CAAE;AACrC,YAAI,WAAW,MAAM,SAAS,GAAG;AAChC,0BAAgB,QAAQ,WAAW,MAAM,CAAC,EAAE;AAC5C,gBAAM,kBAAkB,gBAAgB,KAAK;AAAA,QAC7C;AAAA,MACD,SAAQ,OAAO;AACfC,sBAAAA,MAAc,MAAA,SAAA,kCAAA,WAAW,KAAK;AAC9BA,sBAAG,MAAC,UAAU,EAAE,OAAO,UAAU,MAAM,QAAQ;AAAA,MAC/C;AAAA,IACF;AAEA,mBAAe,kBAAkB,UAAU;AAC1C,UAAI;AACH,cAAM,kBAAkB,MAAMD,6BAAY,gBAAgB,QAAQ;AAClE,sBAAc,QAAQ,mBAAmB,CAAE;AAAA,MAC3C,SAAQ,OAAO;AACfC,sBAAAA,MAAc,MAAA,SAAA,kCAAA,YAAY,KAAK;AAC/B,sBAAc,QAAQ,CAAE;AAAA,MACxB;AAAA,IACF;AAEA,aAAS,eAAe,IAAI;AAC3B,sBAAgB,QAAQ;AACxB,wBAAkB,EAAE;AAAA,IACrB;AAEA,aAAS,cAAc,YAAY;AAClCA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,gCAAgC,UAAU;AAAA,MACjD,CAAE;AAAA,IACF;AAEA,aAAS,mBAAmB,MAAM;AAEjC,aAAO;AAAA,IACR;AAEAC,kBAAAA,OAAO,MAAM;AACZ,qBAAgB;AAAA,IACjB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpFD,GAAG,WAAW,eAAe;"}