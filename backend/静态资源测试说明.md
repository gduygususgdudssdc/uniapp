# 静态资源访问测试说明

## 已完成的配置

1. ✅ 创建了 `WebMvcConfig.java` 配置类
2. ✅ 在 `application.yml` 中添加了静态资源配置
3. ✅ 图片文件已移动到 `backend/src/main/resources/static/banner/` 目录

## 文件结构

```
backend/src/main/resources/
└── static/
    └── banner/
        ├── 1.png
        ├── 2.png
        ├── 3.png
        └── 4.png
```

## 访问路径

由于设置了 `context-path: /api`，访问路径为：

- **本地开发环境**：`http://localhost:8080/api/static/banner/1.png`
- **公网环境（cpolar）**：`https://56b33ccb.r5.cpolar.top/api/static/banner/1.png`

## 测试步骤

1. **重启后端服务**
   ```bash
   # 停止当前运行的服务
   # 然后重新启动
   mvn spring-boot:run
   ```

2. **测试访问**
   - 在浏览器中访问：`http://localhost:8080/api/static/banner/1.png`
   - 应该能看到图片，而不是 404 错误

3. **如果还是 404，检查：**
   - 确认后端服务已重启
   - 确认图片文件在 `backend/src/main/resources/static/banner/` 目录下
   - 检查控制台是否有错误信息
   - 尝试访问：`http://localhost:8080/api/static/banner/1.png`（注意路径）

## 常见问题

### 问题1：还是 404 错误
**解决方案：**
- 确认已重启后端服务
- 检查 `WebMvcConfig.java` 是否被正确加载
- 查看后端日志，确认配置是否生效

### 问题2：图片路径不对
**解决方案：**
- 确认数据库中的 `image_url` 字段使用的是正确的路径
- 如果使用 cpolar，确保 URL 中的域名正确

### 问题3：跨域问题
**解决方案：**
- 已配置 `CorsConfig.java`，应该不会有跨域问题
- 如果还有问题，检查前端请求的域名是否正确

## 下一步

1. 执行 SQL 脚本，插入 banner 数据到数据库
2. 重启后端服务
3. 测试前端是否能正常加载 banner 图片



